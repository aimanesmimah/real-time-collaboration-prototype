/**
 * logdown - Debug utility with markdown support that runs on browser and server
 *
 * @version v2.2.0
 * @link https://github.com/caiogondim/logdown
 * @author Caio Gondim <me@caiogondim.com> (http://caiogondim.com)
 * @license MIT
 */
!function(){"use strict";function e(t,i){return this instanceof e?(this.opts=o(t,i),a(this.opts.prefix,e._instances)?u(this.opts.prefix,e._instances):(e._instances.push(this),r(e._instances),n(),this)):new e(t,i)}function o(e,o){"object"==typeof e&&(o=e),o=o||{},"string"!=typeof e&&(e=o.prefix||""),e=f(e);var r,n=Boolean(o.alignOutput),t=void 0===o.markdown||Boolean(o.markdown);return x()?(r=b[h%b.length],h+=1):g()&&(r=w()),{prefix:e,alignOutput:n,markdown:t,prefixColor:r}}function r(e){var o=e.sort(function(e,o){return o.opts.prefix.length-e.opts.prefix.length})[0];e.forEach(function(e){if(e.opts.alignOutput){var r=new Array(Math.max(o.opts.prefix.length-e.opts.prefix.length+1,0)).join(" ");e.opts.prefix=e.opts.prefix+r}})}function n(){if(g()){var o=null;"undefined"!=typeof process&&void 0!==process.env&&(void 0!==process.env.NODE_DEBUG&&""!==process.env.NODE_DEBUG?o="NODE_DEBUG":void 0!==process.env.DEBUG&&""!==process.env.DEBUG&&(o="DEBUG"),o&&(e.disable("*"),process.env[o].split(",").forEach(function(o){e.enable(o)})))}else x()&&window.localStorage&&"string"==typeof window.localStorage.getItem("debug")&&(e.disable("*"),window.localStorage.debug.split(",").forEach(function(o){e.enable(o)}))}function t(e){for(var o=[],r=i(e);r;)e=e.replace(r.rule.regexp,r.rule.replacer),x()&&(o.push(r.rule.style),o.push("")),r=i(e);return{text:e,styles:o}}function i(e){var o=[],r=[];return x()?r=[{regexp:/\*([^\*]+)\*/,replacer:function(e,o){return"%c"+o+"%c"},style:"font-weight:bold;"},{regexp:/_([^_]+)_/,replacer:function(e,o){return"%c"+o+"%c"},style:"font-style:italic;"},{regexp:/`([^`]+)`/,replacer:function(e,o){return"%c"+o+"%c"},style:"background:#FDF6E3; color:#586E75; padding:1px 5px; border-radius:4px;"}]:g()&&(r=[{regexp:/\*([^\*]+)\*/,replacer:function(e,o){return"["+m.modifiers.bold[0]+"m"+o+"["+m.modifiers.bold[1]+"m"}},{regexp:/_([^_]+)_/,replacer:function(e,o){return"["+m.modifiers.italic[0]+"m"+o+"["+m.modifiers.italic[1]+"m"}},{regexp:/`([^`]+)`/,replacer:function(e,o){return"["+m.bgColors.bgYellow[0]+"m["+m.colors.black[0]+"m "+o+" ["+m.colors.black[1]+"m["+m.bgColors.bgYellow[1]+"m"}}]),r.forEach(function(r){var n=e.match(r.regexp);n&&o.push({rule:r,match:n})}),0===o.length?null:(o.sort(function(e,o){return e.match.index-o.match.index}),o[0])}function s(e,o){var r,n=[];return o.opts.prefix?d()?(n.push("%c"+o.opts.prefix+"%c "),n.push("color:"+o.opts.prefixColor+"; font-weight:bold;","")):n.push("["+o.prefix+"] "):n.push(""),"string"==typeof e[0]?o.opts.markdown&&d()?(r=t(e[0]),n[0]=n[0]+r.text,n=n.concat(r.styles)):n[0]=n[0]+e[0]:n[0]=e[0],e.length>1&&(n=n.concat(e.splice(1))),n}function c(e,o,r){var n=[];return r.opts.prefix&&(d()?n[0]="["+r.opts.prefixColor[0]+"m["+m.modifiers.bold[0]+"m"+r.opts.prefix+"["+m.modifiers.bold[1]+"m["+r.opts.prefixColor[1]+"m":n[0]="["+r.opts.prefix+"]"),"warn"===o?n[0]="["+m.colors.yellow[0]+"m⚠["+m.colors.yellow[1]+"m "+(n[0]||""):"error"===o?n[0]="["+m.colors.red[0]+"m✖["+m.colors.red[1]+"m "+(n[0]||""):"info"===o?n[0]="["+m.colors.blue[0]+"mℹ["+m.colors.blue[1]+"m "+(n[0]||""):"debug"===o&&(n[0]="["+m.colors.gray[0]+"m🐛["+m.colors.gray[1]+"m "+(n[0]||"")),e.forEach(function(e){"string"==typeof e&&r.opts.markdown?n.push(t(e).text):n.push(e)}),n}function l(e){var o=!1;return y.forEach(function(r){"enable"===r.type&&r.regExp.test(e.opts.prefix)?o=!1:"disable"===r.type&&r.regExp.test(e.opts.prefix)&&(o=!0)}),o}function p(e){return new RegExp("^"+e.replace(/\*/g,".*?")+"$")}function a(e,o){var r=!1;return o.forEach(function(o){if(o.opts.prefix===e)return void(r=!0)}),r}function u(e,o){var r;return o.forEach(function(o){if(o.opts.prefix===e)return void(r=o)}),r}function f(e){return"string"==typeof e?e.replace(/%c/g,""):e}function d(){if(x()){var e="WebkitAppearance"in document.documentElement.style,o=window.console&&(console.firebug||console.exception&&console.table),r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31;return e||o||r}if(g())return!(process.stdout&&!process.stdout.isTTY)&&("win32"===process.platform||("COLORTERM"in process.env||"dumb"!==process.env.TERM&&!!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)))}function g(){return"undefined"!=typeof module&&"undefined"!=typeof module.exports}function x(){return"undefined"!=typeof window}var h=0,b=["#B58900","#CB4B16","#DC322F","#D33682","#6C71C4","#268BD2","#2AA198","#859900"],m={modifiers:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},colors:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39]},bgColors:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49]}},y=[];e._instances=[],e.enable=function(){Array.prototype.forEach.call(arguments,function(o){"-"===o[0]&&e.disable(o.substr(1));var r=p(o);"*"===o?y=[]:y.push({type:"enable",regExp:r})})},e.disable=function(){Array.prototype.forEach.call(arguments,function(o){"-"===o[0]&&e.enable(o.substr(1));var r=p(o);"*"===o?y=[{type:"disable",regExp:r}]:y.push({type:"disable",regExp:r})})};var v=["debug","log","info","warn","error"];v.forEach(function(o){e.prototype[o]=function(){if(!l(this)){var e,r=Array.prototype.slice.call(arguments,0);x()?(e=s(r,this),Function.prototype.apply.call(console[o]||console.log,console,e)):g()&&(e=c(r,o,this),(console[o]||console.log).apply(console,e))}}});var w=function(){var e=0,o=[[31,39],[32,39],[33,39],[34,39],[35,39],[36,39]];return function(){return e+=1,o[e%o.length]}}();g()?module.exports=e:x()&&(window.Logdown=e)}();
//# sourceMappingURL=logdown.min.js.map
